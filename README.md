# **PROJECT-3. EDA + Feature Engineering. Соревнование на Kaggle**

**Цель исследования:**

В данном исследовании ставится задача разработки предсказательной модели рейтинга отелей, направленной на выявление и мониторинг нечестных практик со стороны гостиничного бизнеса. В условиях рынка, в котором функционирует компания Booking, представляется актуальным применение методов анализа данных для оценки достоверности рейтингов отелей. 

Предполагается, что через построение модели, учитывающей различные факторы, влияющие на итоговый рейтинг, будет возможно выявлять отклонения между предсказанными и фактическими значениями рейтингов. Значительные расхождения между этими показателями могут указывать на вероятность недобросовестного поведения отеля, такого как манипуляции с отзывами и оценками со стороны клиентов.

Таким образом, основная **задача данного исследования заключается в**:

1. Построении и валидации модели, предсказывающей рейтинг отелей на основе исторических данных и доступных характеристик.
2. Разработке механизма фильтрации и мониторинга отелей, чьи рейтинги значительно отличаются от предсказанных значений, для дальнейшего проведения проверки и обеспечения честности на платформе.

Результаты данного исследования могут быть использованы для повышения прозрачности и доверия к платформе Booking, улучшения качества предоставляемых услуг и защиты интересов клиентов.

**Датасеты для исследования:**
hotels_train.csv - набор данных для обучения
hotels_test.csv - набор данных для оценки качества
submission.csv - файл сабмишна в нужном формате
Моожно загрузить перейдя по ссылке [https://www.kaggle.com/competitions/sf-booking/data]

**Данные:**

**hotel_address** — адрес отеля;

**review_date** — дата, когда рецензент разместил соответствующий отзыв;

**average_score** — средний балл отеля, рассчитанный на основе последнего комментария за последний год;

**hotel_name** — название отеля;

**reviewer_nationality** — страна рецензента;

**negative_review** — отрицательный отзыв, который рецензент дал отелю;

**review_total_negative_word_counts** — общее количество слов в отрицательном отзыв;

**positive_review** — положительный отзыв, который рецензент дал отелю;

**review_total_positive_word_counts** — общее количество слов в положительном отзыве;

**reviewer_score** — оценка, которую рецензент поставил отелю на основе своего опыта;

**total_number_of_reviews_reviewer_has_given** — количество отзывов, которые рецензенты дали в прошлом;

**total_number_of_reviews** — общее количество действительных отзывов об отеле;

**tags** — теги, которые рецензент дал отелю;

**days_since_review** — количество дней между датой проверки и датой очистки;

**additional_number_of_scoring** — есть также некоторые гости, которые просто поставили оценку сервису, но не оставили отзыв. Это число указывает, сколько там действительных оценок без проверки.

**lat** — географическая широта отеля;

**lng** — географическая долгота отеля.

## Выводы по проекту 

В ходе проекта были проделаны базовые шаги для обучения модели. 
1) **Загрузка данных**. В данном разделе были скачены все необходимые файлы для работы и соеденены (тренироваочный и тестовый датафреймы), проведена краткая статистическая сводка. 
Изначально датафрайм имел 18 колонок и 515738 строк (за исключением столбцов lat и lng - они миели пропущенные значения). 

2) В разделе **функций** вы можете увидеть функции, которые будут применены в разделе с преобразованием признаков. Он был сделан для визуального удобства, чтобы не заграмождать раздел с преобразованем признаков. 

3) В разделе с **преобразованием данных** были применены манипуляции со столбцами, которые могли бы мешать в создании признаков. Таким образом, в данном разделе были преобразованы: 

* Пропущенные значения есть в столбцах lat и lng. Из-за некорректной работы библиотеки geo, автоматически при помощи адреса устранить эту проблему не удалось, пришлось в ручную прописывать широту и долготу для 17 адресов используя данный источник https://snipp.ru/tools/address-coord . 

* Столбец review_date был приведен в формат даты

* Столбец tags был приведен в доблесный вид для легкости его анализв 

* Из столбца days_since_review был удран последний элемент "days", чтобы признак имел числовое значение 

4) Раздел **преобразование признаков**. Издесь удалось создать такие признаки как: 

* hotel_city - город, в котором находится отель 
* hotel_country - страна, в которой находится отель 
* citizen - является ли гость гражданином страны, где находится отель
* reviewer_nationality - национальность гостя 
* sentiment_scores_negative - оценка положительного отзыва 
* sentiment_scores_positive - оценка отрицательного отзыва 
* 11 популярных тегов 
* quarter - квартал
* month
* year
* season 
* dis_center 
* dis_air 

5) После преобразования признаков, необходимо их **нормализировать** (поскольку распределение отлично от нормального)/ **категоризировать**. 

6) Последний этап - **отбор признаков и обучение модели** на тренировочном датасете. 

**MAPE: 0.12573920373680844**
